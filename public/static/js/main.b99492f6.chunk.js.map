{"version":3,"sources":["state-manager/types.js","state-manager/reducers/authReducer.js","state-manager/reducers/calendarReducer.js","state-manager/reducers/uiReducer.js","state-manager/reducers/index.js","state-manager/store.js","utils/fetch.js","state-manager/actions/calendar.js","state-manager/actions/ui.js","state-manager/actions/auth.js","router/routes.js","router/PrivateRoute.js","router/NoAuthOnlyRoute.js","hooks/useForm.js","fixtures/index.js","components/auth/SignInScreen/constants.js","components/ui/PasswordField.js","components/auth/SignInScreen/index.js","components/auth/SignUpScreen/constants.js","components/auth/SignUpScreen/index.js","components/ui/TabPanel.js","pages/auth/AuthScreen.js","components/ui/Loading.js","components/modal/createEventModal.js","components/modal/index.js","components/calendar/calendar_messages.js","components/calendar/CalendarEvent.js","components/calendar/eventStyleGenerator.js","components/ui/FAB.js","pages/CalendarScreen.js","pages/404NotFound.js","router/AppRouter.js","components/ui/Navbar.js","components/ui/ErrorAlert.js","components/ThemeProvider.js","CalendarApp.js","index.js"],"names":["types","uiOpenModal","uiCloseModal","uiSetError","uiClearError","eventAddNew","eventSetActive","eventDelteActive","eventUpdate","eventDelete","eventStartLoading","eventClearLoading","eventSetEventArray","authSignIn","authSignOut","authValidated","initialState","validating","uid","name","authReducer","state","action","type","payload","events","activeEvent","loading","calendarReducer","event","filter","e","id","map","modalVisible","error","uiReducer","rootReducer","combineReducers","ui","calendar","auth","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","fetchWithoutToken","endpoint","data","method","url","process","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","addNewReducerAction","startLoading","stopLoading","updateEventReducer","setActive","deleteActive","addNew","dispatch","getState","a","res","json","ok","user","_id","console","msg","setError","toString","deleteNote","updateEvent","loadEvents","start","moment","toDate","end","closeModal","openModal","clearError","reducerSignIn","setTokenOnLocalStorage","setItem","Date","getTime","clearTokenOnLocalStorage","clear","signIn","email","password","response","log","signUp","validateToken","signOut","AUTH","PrivateRoute","isAuthenticated","Component","component","redirectRoute","rest","props","to","LoginRouter","useForm","initialValues","useState","values","setValues","reset","handleInputChange","target","value","LAST_CALENDAR_VIEW","emailIcon","InputAdornment","position","IconButton","initErrorValues","message","undefined","useStyles","makeStyles","theme","margin","marginTop","spacing","marginBottom","PasswordField","passwordVisible","setPasswordVisible","onChange","label","helperText","others","FormControl","InputLabel","htmlFor","Input","endAdornment","aria-label","onClick","FormHelperText","SignInScreen","classes","errorStore","useSelector","setLoading","useDispatch","useEffect","Box","p","pt","mb","fullWidth","className","mt","display","justifyContent","Button","color","disabled","variant","preventDefault","lim","min","max","errorFlag","errorObject","validator","isEmail","isLength","isValid","nameIcon","password2","SignUpScreen","length","TabPanel","children","index","form","other","hidden","aria-labelledby","root","flexFlow","height","AuthScreen","tabIndex","setTabIndex","Container","maxWidth","Paper","elevation","AppBar","Tabs","newValue","textColor","centered","Tab","Loading","width","alignItems","mr","CircularProgress","Typography","inputField","textArea","minHeight","buttonColorSecondary","palette","secondary","dark","borderColor","buttonColorWarning","warning","minutes","seconds","add","title","description","initialErrorValues","msessage","CreateEventModal","handleChange","handleDateChange","Card","CardHeader","subtitle","onSubmit","isSameOrAfter","Grid","container","item","xs","sm","DateTimePicker","inputVariant","invalidLabel","date","minDateMessage","minDate","TextField","required","multiline","rows","m","outlinedPrimary","outlinedSecondary","top","left","transform","CalendarModal","isOpen","Modal","open","onClose","CALENDAR_MESSAGES_EN","previous","style","fontSize","next","CalendarEvent","eventStyleGenerator","isSelected","bottom","right","FAB","Fab","localizer","momentLocalizer","CalendarScreen","fistRender","useRef","view","setView","current","onSelectEvent","onView","startAccessor","endAccessor","messages","eventPropGetter","components","marginLeft","marginRight","divider_root","backgroundColor","NotFoundScreen","justify","Divider","orientation","AppRouter","exact","path","routes","NotFound","appbarTitle","flexGrow","colorPrimaryDark","primary","Navbar","aria-controls","aria-haspopup","edge","Tooltip","arrow","w100","ErrorAlert","handleClose","Snackbar","autoHideDuration","Alert","severity","ThemeProvider","useMemo","darkMode","createMuiTheme","main","overrides","MuiCssBaseline","html","WebkitFontSmoothing","customMuiTheme","App","utils","MomentUtils","CssBaseline","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b99492f6.chunk.js","sourcesContent":["const types = {\r\n\r\n  uiOpenModal: '[UI] Open Modal',\r\n  uiCloseModal: '[UI] Close Modal',\r\n  uiSetError: '[UI] Error Set on Store',\r\n  uiClearError: '[UI] Error Cleared from Store',\r\n  \r\n  \r\n  eventAddNew: '[Event] Add New Event',\r\n  eventSetActive: '[Event] Set Active Event',\r\n  eventDelteActive: '[Event] Delete Active',\r\n  eventUpdate: '[Event] Update Event',\r\n  eventDelete: '[Event] Delete Event',\r\n  eventStartLoading: '[Event] Start Loading',\r\n  eventClearLoading: '[Event] Clear Loading',\r\n  eventSetEventArray: '[Event] Set Events Array',\r\n\r\n\r\n  authSignIn: '[Auth] Sign In',\r\n  authSignOut: '[Auth] Sign Out',\r\n  authValidated: '[Auth] Credentials Validated',\r\n}\r\n\r\n\r\n\r\n\r\nexport default types;","import types from '../types';\r\n\r\n\r\nconst initialState = {\r\n  validating: true, // Just for app init\r\n  uid: null,\r\n  name: null\r\n}\r\n\r\n\r\n\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n\r\n    case types.authSignIn:\r\n      return {\r\n        ...state,\r\n        uid: action.payload.uid,\r\n        name: action.payload.name,\r\n        validating: false,\r\n      }\r\n\r\n    case types.authValidated:\r\n      return {\r\n        ...state,\r\n        validating: false,\r\n      }\r\n\r\n    case types.authSignOut:\r\n      return {\r\n        ...state,\r\n        uid: null, name: null,\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\nexport default authReducer;\r\n","import types from 'state-manager/types';\r\n\r\n\r\n\r\n\r\nconst initialState = {\r\n  events: [],\r\n  activeEvent: null, // event object\r\n  loading: true,\r\n}\r\n\r\n\r\n\r\n\r\nfunction calendarReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload.event\r\n      };\r\n\r\n\r\n    case types.eventDelteActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      }\r\n\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n        events: [\r\n          ...state.events, action.payload.event\r\n        ],\r\n      };\r\n\r\n    case types.eventDelete:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n        events: state.events.filter(\r\n          e => (e.id !== action.payload.id)\r\n        ),\r\n      }\r\n\r\n    case types.eventUpdate:\r\n      const { event } = action.payload;\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n        events: state.events.map(\r\n          e => (e.id === event.id ? event : e)\r\n        ) // Cycle through each event, and replace the selected\r\n      };\r\n\r\n    case types.eventStartLoading:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      }\r\n\r\n    case types.eventClearLoading:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      }\r\n\r\n\r\n    case types.eventSetEventArray:\r\n      return {\r\n        ...state,\r\n        events: action.payload.events\r\n      }\r\n\r\n    case types.authSignOut:\r\n      return {\r\n        ...state,\r\n        events: [],\r\n      }\r\n      \r\n    default:\r\n      return state;\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default calendarReducer;\r\n\r\n","import types from 'state-manager/types';\r\n\r\n\r\nconst initialState = {\r\n\r\n  modalVisible: false,\r\n  error: null,\r\n}\r\n\r\n\r\n\r\nfunction uiReducer(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalVisible: true\r\n      };\r\n\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalVisible: false\r\n      };\r\n\r\n    case types.uiSetError:\r\n      return {\r\n        ...state,\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case types.uiClearError:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n      };\r\n\r\n    case types.eventUpdate:\r\n    case types.eventDelete:\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        modalVisible: false\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default uiReducer;","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nimport calendarReducer from './calendarReducer';\r\nimport uiReducer from './uiReducer';\r\n\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  ui: uiReducer,   // Reducer's state represented as \"ui\".\r\n  calendar: calendarReducer,\r\n  auth: authReducer,\r\n});\r\n\r\n\r\n\r\n\r\nexport default rootReducer;\r\n\r\n\r\n","import { applyMiddleware, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './reducers';\r\n\r\n\r\n// Use the enhance composer that comes with the Redux Dev Tools or the\r\n// default composer from redux, if no Dev Tools installed\r\nconst enhancer = (\r\n  typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n) || compose;\r\n\r\n\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  enhancer(applyMiddleware(thunk))\r\n);\r\n\r\n\r\nexport default store;","\r\n\r\nconst fetchWithoutToken = (endpoint, data, method = \"GET\") => {\r\n\r\n  const url = `${process.env.REACT_APP_API_URL}/${endpoint}`;\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(url);\r\n    // A GET method doesn't have any data to sent\r\n    // No header configured, since no token provided\r\n  }\r\n\r\n  return fetch(url, {\r\n    method,\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\nconst fetchWithToken = (endpoint, data, method = \"GET\") => {\r\n\r\n  const url = `${process.env.REACT_APP_API_URL}/${endpoint}`;\r\n  const token = localStorage.getItem('token') || 'Empty-String-Here';\r\n\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-token': token,\r\n      },\r\n    });\r\n    // A GET method doesn't have any data to sent\r\n  }\r\n\r\n  return fetch(url, {\r\n    method,\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n      'x-token': token,\r\n    },\r\n    body: JSON.stringify(data)\r\n  });\r\n}\r\n\r\n\r\nexport {\r\n  fetchWithoutToken,\r\n  fetchWithToken,\r\n}\r\n\r\n\r\n","import types from '../types';\r\nimport { fetchWithToken } from 'utils/fetch';\r\nimport { ui } from './index';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nfunction addNewReducerAction(event) {\r\n\r\n  return {\r\n    type: types.eventAddNew,\r\n    payload: { event }\r\n  }\r\n}\r\n\r\n\r\nfunction startLoading() {\r\n\r\n  return {\r\n    type: types.eventStartLoading,\r\n  }\r\n}\r\n\r\n\r\nfunction stopLoading() {\r\n\r\n  return {\r\n    type: types.eventClearLoading,\r\n  }\r\n}\r\n\r\n\r\nfunction updateEventReducer(event) {\r\n\r\n  return {\r\n    type: types.eventUpdate,\r\n    payload: { event }\r\n  }\r\n}\r\n\r\n\r\nfunction deleteNoteReducer(id) {\r\n\r\n  return {\r\n    type: types.eventDelete,\r\n    payload: { id },\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function setActive(event) {\r\n\r\n  return {\r\n    type: types.eventSetActive,\r\n    payload: { event }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function deleteActive() {\r\n\r\n  return {\r\n    type: types.eventDelteActive\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function addNew(event) {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    dispatch(startLoading());\r\n    const { uid, name } = getState().auth;\r\n\r\n    try {\r\n      const res = await fetchWithToken(\"events/create\", event, \"POST\");\r\n      const body = await res.json();\r\n\r\n      if (body.ok) {\r\n\r\n        const { id } = body.event;\r\n        event.id = id;\r\n        event.user = { _id: uid, name }\r\n\r\n        dispatch(addNewReducerAction(event));\r\n\r\n      } else {\r\n        console.error(\"Error:\", body.msg);\r\n        dispatch(ui.setError(body.msg));\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      dispatch(ui.setError(error.toString()));\r\n    }\r\n    \r\n    dispatch(stopLoading());\r\n\r\n  };\r\n\r\n}\r\n\r\n\r\n\r\nexport function deleteNote() {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    dispatch(startLoading());\r\n\r\n    const { uid } = getState().auth;\r\n    const event = getState().calendar.activeEvent;\r\n\r\n    if (event.user._id === uid) {\r\n\r\n      try {\r\n\r\n        const res = await fetchWithToken(\r\n          `events/delete/${event.id}`, {},\"DELETE\"\r\n        );\r\n\r\n        const body = await res.json();\r\n\r\n        if (body.ok) {\r\n\r\n          dispatch(deleteNoteReducer(event.id));\r\n        } else {\r\n\r\n          console.error(\"Error:\", body.msg);\r\n          dispatch(ui.setError(body.msg));\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        dispatch(ui.setError(error.toString()));\r\n      }\r\n\r\n    } else {\r\n      dispatch(ui.setError(\"Not authorized to edit other user's events\"));\r\n    }\r\n\r\n    dispatch(stopLoading());\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport function updateEvent(event) {\r\n\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    dispatch(startLoading());\r\n\r\n    const { uid } = getState().auth;\r\n    if (event.user._id === uid) {\r\n\r\n      try {\r\n\r\n        const res = await fetchWithToken(\r\n          `events/update/${event.id}`,\r\n          event, \"PUT\"\r\n        );\r\n\r\n        const body = await res.json();\r\n\r\n        if (body.ok) {\r\n\r\n          dispatch(updateEventReducer(event));\r\n        } else {\r\n\r\n          console.error(\"Error:\", body.msg);\r\n          dispatch(ui.setError(body.msg));\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n        dispatch(ui.setError(error.toString()));\r\n      }\r\n\r\n    } else {\r\n      dispatch(ui.setError(\"Not authorized to edit other user's events\"));\r\n    }\r\n\r\n    dispatch(stopLoading());\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function loadEvents() {\r\n\r\n  return async (dispatch) => {\r\n\r\n    dispatch({ type: types.eventStartLoading });\r\n\r\n    try {\r\n\r\n      const res = await fetchWithToken(\"events/read\");\r\n      const body = await res.json();\r\n\r\n      if (body.ok) {\r\n\r\n        let { events } = body;\r\n\r\n        events = events.map(event => ({\r\n          ...event,\r\n          start: moment(event.start).toDate(),\r\n          end: moment(event.end).toDate(),\r\n        }));\r\n\r\n        dispatch({\r\n          type: types.eventSetEventArray,\r\n          payload: { events }\r\n        });\r\n\r\n      } else {\r\n        console.error(\"Error:\", body.msg);\r\n        dispatch(ui.setError(body.msg));\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n      dispatch(ui.setError(error.toString()));\r\n\r\n    }\r\n\r\n      dispatch({ type: types.eventClearLoading });\r\n\r\n  }\r\n}\r\n\r\n\r\n","import types from '../types';\r\nimport { deleteActive } from './calendar';\r\n\r\n\r\nexport function closeModal() {\r\n\r\n  return dispatch => {\r\n    dispatch(deleteActive());\r\n    dispatch({\r\n      type: types.uiCloseModal,\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport function openModal() {\r\n\r\n  return {\r\n    type: types.uiOpenModal,\r\n  }\r\n}\r\n\r\n\r\nexport function setError(error){\r\n\r\n  return {\r\n    type: types.uiSetError,\r\n    payload: {\r\n      error,\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function clearError(){\r\n\r\n  return {\r\n    type: types.uiClearError,\r\n  }\r\n}","import { fetchWithoutToken, fetchWithToken } from 'utils/fetch';\r\nimport types from '../types';\r\nimport { ui } from '../actions';\r\n\r\n\r\n\r\n\r\nconst reducerValidated = () => ({ type: types.authValidated });\r\n\r\nconst reducerSignIn = (uid, name) => ({\r\n  type: types.authSignIn,\r\n  payload: {\r\n    uid, name,\r\n  }\r\n});\r\n\r\n\r\nconst setTokenOnLocalStorage = (token) => {\r\n\r\n  localStorage.setItem('token', token);\r\n  localStorage.setItem('token-time', new Date().getTime());\r\n}\r\n\r\nconst clearTokenOnLocalStorage = () => {\r\n  localStorage.clear('token');\r\n  localStorage.clear('token-time');\r\n}\r\n\r\n\r\n\r\nexport const signIn = (email, password) => {\r\n\r\n  return async (dispatch) => {\r\n\r\n    try { // In case of fetch error\r\n\r\n      const response = await fetchWithoutToken(\r\n        'auth/SignIn', // End point\r\n        { email, password }, // Data\r\n        \"POST\", // Method\r\n      );\r\n\r\n      const body = await response.json();\r\n      const { ok, name, uid, token } = body;\r\n\r\n      if (ok) {\r\n\r\n        try { // In case of localStorage error\r\n\r\n          setTokenOnLocalStorage(token);\r\n          dispatch(reducerSignIn(uid, name));\r\n\r\n        } catch (error) {\r\n          console.log(\"Error saving data:\", error);\r\n          dispatch(ui.setError(\"Error saving data on device, check space\"));\r\n        }\r\n\r\n\r\n      } else {\r\n        console.log(\"Error:\", body.msg);\r\n        dispatch(ui.setError(body.msg));\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(ui.setError(error.toString()));\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const signUp = ({ email, password, name }) => {\r\n\r\n  return async (dispatch) => {\r\n\r\n    try { // In case of fetch error\r\n\r\n      const response = await fetchWithoutToken(\r\n        'auth/SignUp', // End point\r\n        { email, password, name }, // Data \r\n        \"POST\", // Method\r\n      );\r\n\r\n      const body = await response.json();\r\n      const { ok, uid, token } = body;\r\n\r\n      if (ok) {\r\n\r\n        try { // In case of localStorage error\r\n\r\n          setTokenOnLocalStorage(token);\r\n          dispatch(reducerSignIn(uid, body.name));\r\n\r\n        } catch (error) {\r\n\r\n          console.log(\"Error saving data:\", error);\r\n          dispatch(ui.setError(\"Error saving data on device, check space\"));\r\n        }\r\n\r\n\r\n      } else {\r\n        console.log(\"Error:\", body.msg);\r\n        dispatch(ui.setError(body.msg));\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(ui.setError(error.toString()));\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const validateToken = () => {\r\n\r\n  return async dispatch => {\r\n\r\n\r\n    try { // In case of fetch error\r\n\r\n      const response = await fetchWithToken('auth/JWTRevalidation');\r\n\r\n      const body = await response.json();\r\n      const { ok, name, uid, token } = body;\r\n\r\n      if (ok) {\r\n\r\n        try { // In case of localStorage error\r\n\r\n          setTokenOnLocalStorage(token);\r\n          dispatch(reducerSignIn(uid, name));\r\n\r\n        } catch (error) {\r\n          console.log(\"Error saving data:\", error);\r\n          dispatch(ui.setError(\"Error saving data on device, check space\"));\r\n        }\r\n\r\n\r\n      } else {\r\n\r\n        clearTokenOnLocalStorage();\r\n        dispatch({ type: types.authSignOut, });\r\n\r\n      }\r\n\r\n      dispatch(reducerValidated());\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(ui.setError(error.toString()));\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\n\r\nexport const signOut = () => {\r\n\r\n  return dispatch => {\r\n\r\n    try {\r\n      clearTokenOnLocalStorage();\r\n\r\n      dispatch({ type: types.authSignOut, });\r\n    } catch (error) {\r\n      ui.setError(\"Error saving data on device, check space\")\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export const AUTH = '/auth';\r\nexport const MAIN = '/';","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\nexport default function PrivateRoute({\r\n  isAuthenticated,\r\n  component: Component,\r\n  redirectRoute,\r\n  ...rest\r\n}) {\r\n\r\n\r\n  return (\r\n    <Route {...rest} component={props => (\r\n      // props are the history, router etc.\r\n      isAuthenticated\r\n        ?\r\n        <Component {...props} />\r\n        :\r\n        <Redirect to={redirectRoute} />\r\n    )} />\r\n  )\r\n}\r\n\r\n\r\n\r\n// To make sure it's used the correct way\r\nPrivateRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n/**\r\n * \r\n * @param {Bool} isAuthenticated \r\n * @param {func} component\r\n */\r\nexport default function LoginRouter({\r\n  isAuthenticated,\r\n  component: Component,\r\n  redirectRoute,\r\n  ...rest\r\n}) {\r\n\r\n  return (\r\n    <Route {...rest} component={props => (\r\n      // props are the history, router etc.\r\n      !isAuthenticated // If user authenticated, do not render\r\n        ?\r\n        <Component {...props} />\r\n        :\r\n        <Redirect to={redirectRoute} /> \r\n        /* Edit this to redirect to last entry */\r\n    )} />\r\n  )\r\n}\r\n\r\n\r\n// To make sure it's used the correct way\r\n\r\nLoginRouter.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n}\r\n","import { useState } from 'react';\r\n\r\n\r\n\r\n/**\r\n * Hook to keep track of a form's values.\r\n * \r\n * @param {Object} initialValues Object containing the initial values of the form, no values by default.\r\n * \r\n * @return {Array} [ values, handleInputChange, reset ] :\r\n * \r\n * values: Object with the input's values, stored by input name.\r\n * handleInputChange: Function to kkep track of a change in a individual input, must be passed to every input that we want to track, through: \r\n * `<input onChange={ handleInputChange }/>`\r\n * reset: A shorthand function to reset a form to it's original (initialValues) values.\r\n */\r\nfunction useForm (initialValues = {}){\r\n\r\n  const [ values, setValues ] = useState(initialValues);\r\n\r\n  function reset(){\r\n    setValues(initialValues);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Event} event The event object, fired by the input field\r\n   */\r\n  function handleInputChange({ target }){\r\n    setValues({\r\n      ...values,\r\n      [ target.name ]: target.value // Update the state with a new value\r\n    })\r\n  }\r\n\r\n  return [ values, handleInputChange, reset ];\r\n}\r\n\r\n\r\n\r\nexport default useForm;\r\n\r\n","\r\n// Form related values\r\nexport const PASSWORD_LEN_MIN = 5;\r\nexport const PASSWORD_LEN_MAX = 10;\r\nexport const MAX_CHARS_EVENT_DESCRIPTION = 150;\r\n\r\n// Calendar\r\nexport const LAST_CALENDAR_VIEW = 'Last Calendar View';\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AlternateEmail from '@material-ui/icons/AlternateEmail';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const emailIcon = (\r\n  <InputAdornment position=\"end\">\r\n    <IconButton>\r\n      <AlternateEmail />\r\n    </IconButton>\r\n  </InputAdornment>\r\n)\r\n\r\n\r\nexport const initErrorValues = {\r\n  email: {\r\n    error: false,\r\n    message: undefined\r\n  },\r\n  password: {\r\n    error: false,\r\n    message: undefined\r\n  },\r\n}\r\n\r\n\r\nexport const initialValues = {\r\n  email: '',\r\n  password: '',\r\n}\r\n\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n\r\n  margin: {\r\n    marginTop: `${theme.spacing(2)}px !important`,\r\n    marginBottom: `${theme.spacing(2)}px !important`,\r\n  }\r\n}));","import React, { useState } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n// UI\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\n\r\n\r\n\r\n\r\nfunction PasswordField(props) {\r\n\r\n  const [passwordVisible, setPasswordVisible] = useState(false);\r\n  const { value, onChange, name, id,\r\n    label, helperText, error, ...others } = props;\r\n\r\n\r\n  function handlePasswordVisibleClick() {\r\n    setPasswordVisible(!passwordVisible);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <FormControl {...others}>\r\n      <InputLabel htmlFor={id}>{label || 'Password'}</InputLabel>\r\n      <Input\r\n        id={id}\r\n        name={name}\r\n        type={passwordVisible ? 'text' : 'password'}\r\n        value={value}\r\n        onChange={onChange}\r\n        error={error || false}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              aria-label=\"toggle password visibility\"\r\n              onClick={handlePasswordVisibleClick}\r\n            >\r\n              {passwordVisible ? <Visibility /> : <VisibilityOff />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        }\r\n      />\r\n      <FormHelperText>{helperText}</FormHelperText>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\n\r\n\r\nPasswordField.propTypes = {\r\n  value: PropTypes.any,\r\n  onChange: PropTypes.func,\r\n  name: PropTypes.string,\r\n  label: PropTypes.string,\r\n  helperText: PropTypes.string,\r\n}\r\n\r\n\r\n\r\nexport default PasswordField;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport validator from 'validator';\r\nimport useForm from 'hooks/useForm';\r\nimport { PASSWORD_LEN_MAX, PASSWORD_LEN_MIN } from 'fixtures';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth } from 'state-manager/actions';\r\n\r\n\r\nimport {\r\n  emailIcon, useStyles,\r\n  initialValues, initErrorValues\r\n} from './constants';\r\n\r\n\r\n// UI\r\nimport PasswordField from 'components/ui/PasswordField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Box from '@material-ui/core/Box';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\n\r\nfunction SignInScreen() {\r\n\r\n\r\n  const classes = useStyles();\r\n  const errorStore = useSelector(state => state.ui.error);\r\n  const [error, setError] = useState(initErrorValues);\r\n  const [loading, setLoading] = useState(false);\r\n  const [values, handleInputChange] = useForm(initialValues);\r\n  const { password, email } = values;\r\n  const dispatch = useDispatch();\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Catch any error from the dispatch actions\r\n    errorStore && setLoading(false);\r\n  }, [errorStore]);\r\n\r\n\r\n\r\n\r\n  function isValid() {\r\n\r\n    const lim = { min: PASSWORD_LEN_MIN, max: PASSWORD_LEN_MAX }\r\n    let errorFlag = false;\r\n    const errorObject = { ...initErrorValues };\r\n\r\n    if (!validator.isEmail(email)) {\r\n      errorFlag = true;\r\n      errorObject.email = {\r\n        error: true,\r\n        message: 'Invalid email address'\r\n      }\r\n    }\r\n\r\n    if (!validator.isLength(password, lim)) {\r\n      errorFlag = true;\r\n      errorObject.password = {\r\n        error: true,\r\n        message: `Length must be between ${PASSWORD_LEN_MIN} and ${PASSWORD_LEN_MAX}`\r\n      }\r\n    }\r\n\r\n\r\n    if (errorFlag) {\r\n      setError(errorObject);\r\n      return false;\r\n    }\r\n\r\n    setError(initErrorValues);\r\n    return true;\r\n\r\n  }\r\n\r\n\r\n  function handleSubmit(e) {\r\n\r\n    e.preventDefault();\r\n\r\n    if (isValid()) {\r\n      dispatch(auth.signIn(email, password));\r\n      setLoading(true);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Box p={3} pt={2} mb={2}>\r\n\r\n      <FormControl fullWidth className={classes.margin}>\r\n        <InputLabel htmlFor=\"email-input\">Email</InputLabel>\r\n        <Input\r\n          id='email-input'\r\n          name=\"email\"\r\n          type='email'\r\n          value={email}\r\n          onChange={handleInputChange}\r\n          endAdornment={emailIcon}\r\n          error={error.email.error}\r\n        />\r\n        <FormHelperText>{error.email.message}</FormHelperText>\r\n      </FormControl>\r\n\r\n\r\n      <PasswordField\r\n        fullWidth\r\n        error={error.password.error}\r\n        className={classes.margin}\r\n        id='password'\r\n        name='password'\r\n        label='Password'\r\n        value={password}\r\n        onChange={handleInputChange}\r\n        helperText={error.password.message}\r\n      />\r\n\r\n\r\n      <Box\r\n        mt={2}\r\n        p={3}\r\n        display='flex'\r\n        justifyContent='space-between'\r\n      >\r\n        <Button color=\"primary\" disabled>Reset Password</Button>\r\n\r\n        <Button\r\n          disabled={loading}\r\n          color='secondary' variant=\"contained\"\r\n          onClick={handleSubmit}\r\n        >\r\n          Sign In\r\n          </Button>\r\n\r\n      </Box>\r\n\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\nexport default SignInScreen;\r\n\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport AlternateEmail from '@material-ui/icons/AlternateEmail';\r\n\r\n\r\n\r\n\r\n\r\nexport const nameIcon = (\r\n  <InputAdornment position=\"end\">\r\n    <IconButton>\r\n      <AccountCircle />\r\n    </IconButton>\r\n  </InputAdornment>\r\n)\r\n\r\nexport const emailIcon = (\r\n  <InputAdornment position=\"end\">\r\n    <IconButton>\r\n      <AlternateEmail />\r\n    </IconButton>\r\n  </InputAdornment>\r\n)\r\n\r\n\r\nexport const initialValues = {\r\n  email: '',\r\n  name: '',\r\n  password: '',\r\n  password2: '',\r\n}\r\n\r\n\r\nexport const initErrorValues = {\r\n  email: {\r\n    error: false,\r\n    message: undefined\r\n  },\r\n  name: {\r\n    error: false,\r\n    message: undefined\r\n  },\r\n  password: {\r\n    error: false,\r\n    message: undefined\r\n  },\r\n  password2: {\r\n    error: false,\r\n    message: undefined\r\n  }\r\n}\r\n\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n\r\n  margin: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  }\r\n}));","import React, { useState, useEffect } from 'react';\r\n\r\nimport useForm from 'hooks/useForm';\r\nimport validator from 'validator';\r\nimport { PASSWORD_LEN_MAX, PASSWORD_LEN_MIN } from 'fixtures';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth } from 'state-manager/actions';\r\n\r\nimport {\r\n  emailIcon, initErrorValues,\r\n  initialValues, useStyles, nameIcon\r\n} from './constants';\r\n\r\n\r\n// UI\r\nimport PasswordField from 'components/ui/PasswordField';\r\nimport Box from '@material-ui/core/Box';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction SignUpScreen() {\r\n\r\n  const classes = useStyles();\r\n  const errorStore = useSelector(state => state.ui.error);\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState(initErrorValues);\r\n  const [loading, setLoading] = useState(false);\r\n  const [values, handleInputChange] = useForm(initialValues);\r\n  const { password, password2, email, name } = values;\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Catch any error from the dispatch actions\r\n    errorStore && setLoading(false);\r\n  }, [errorStore]);\r\n\r\n\r\n\r\n  function isValid() {\r\n\r\n    const lim = { min: PASSWORD_LEN_MIN, max: PASSWORD_LEN_MAX }\r\n    let errorFlag = false;\r\n    const errorObject = { ...initErrorValues };\r\n\r\n    if (!validator.isEmail(email)) {\r\n      errorFlag = true;\r\n      errorObject.email = {\r\n        error: true,\r\n        message: 'Invalid email address'\r\n      }\r\n    }\r\n\r\n    if (!validator.isLength(password, lim)) {\r\n      errorFlag = true;\r\n      errorObject.password = {\r\n        error: true,\r\n        message: `Length must be between ${PASSWORD_LEN_MIN} and ${PASSWORD_LEN_MAX}`\r\n      }\r\n    }\r\n\r\n    if (!(password === password2)) {\r\n      errorFlag = true;\r\n      errorObject.password2 = {\r\n        error: true,\r\n        message: `Passwords must match`\r\n      }\r\n    }\r\n\r\n    if (!(name.length >= 3)) {\r\n      errorFlag = true;\r\n      errorObject.name = {\r\n        error: true,\r\n        message: `Your name must be at least 3 characters long`\r\n      }\r\n    }\r\n\r\n\r\n    if (errorFlag) {\r\n      setError(errorObject);\r\n      return false;\r\n    }\r\n\r\n    setError(initErrorValues);\r\n    return true;\r\n\r\n  }\r\n\r\n\r\n  function handleSubmit(e) {\r\n\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    if (isValid()) {\r\n\r\n      dispatch(auth.signUp(values));\r\n\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Box p={3} pt={2} mb={2}>\r\n\r\n      <FormControl fullWidth className={classes.margin}>\r\n        <InputLabel htmlFor=\"email-input\">Email</InputLabel>\r\n        <Input\r\n          id='email-input'\r\n          name=\"email\"\r\n          type='email'\r\n          value={email}\r\n          onChange={handleInputChange}\r\n          endAdornment={emailIcon}\r\n          error={error.email.error}\r\n        />\r\n        <FormHelperText>{error.email.message}</FormHelperText>\r\n      </FormControl>\r\n\r\n      <FormControl fullWidth className={classes.margin}>\r\n        <InputLabel htmlFor=\"name-input\">Name</InputLabel>\r\n        <Input\r\n          id='name-input'\r\n          name=\"name\"\r\n          type='text'\r\n          value={name}\r\n          onChange={handleInputChange}\r\n          endAdornment={nameIcon}\r\n          error={error.name.error}\r\n        />\r\n        <FormHelperText>{error.name.message}</FormHelperText>\r\n      </FormControl>\r\n\r\n      <PasswordField\r\n        fullWidth\r\n        className={classes.margin}\r\n        id='password'\r\n        name='password'\r\n        label='Password'\r\n        value={password}\r\n        onChange={handleInputChange}\r\n        error={error.password.error}\r\n        helperText={\r\n          error.password.message ||\r\n          `Length between ${PASSWORD_LEN_MIN} and ${PASSWORD_LEN_MAX}`\r\n        }\r\n      />\r\n\r\n      <PasswordField\r\n        fullWidth\r\n        className={classes.margin}\r\n        id='password2'\r\n        name='password2'\r\n        label='Password Again'\r\n        value={password2}\r\n        onChange={handleInputChange}\r\n        error={error.password2.error}\r\n        helperText={error.password2.message || `Please, repeate your password`}\r\n      />\r\n\r\n      <Box\r\n        mt={2}\r\n        p={3}\r\n        display='flex'\r\n        justifyContent='end'\r\n      >\r\n\r\n        <Button\r\n          disabled={loading}\r\n          color='secondary' variant=\"contained\"\r\n          onClick={handleSubmit}\r\n        >\r\n          Sign Up\r\n        </Button>\r\n\r\n      </Box>\r\n\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\nexport default SignUpScreen;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nfunction TabPanel(props) {\r\n\r\n  const { children, value, index, form, ...other } = props;\r\n\r\n\r\n  if (form) {\r\n\r\n    return (\r\n      <form\r\n        hidden={value !== index}\r\n        id={`auth-form-${index}`}\r\n        aria-labelledby={`auth-form-${index}`}\r\n        {...other}\r\n      >\r\n        { // Render children if the selected tab match this tab\r\n          value === index && (\r\n            children\r\n          )\r\n        }\r\n      </form>\r\n    )\r\n  }\r\n\r\n  \r\n  return (\r\n    <div\r\n      hidden={value !== index}\r\n      id={`tab-panel-${index}`}\r\n      aria-labelledby={`tab-panel-${index}`}\r\n      {...other}\r\n    >\r\n\r\n      { // Render children if the selected tab match this tab\r\n        value === index && (\r\n          children\r\n        )\r\n      }\r\n\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  form: PropTypes.bool,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n\r\nexport default TabPanel;","import React, { useState } from 'react';\r\n\r\n// Components\r\nimport SignInScreen from 'components/auth/SignInScreen';\r\nimport SignUpScreen from 'components/auth/SignUpScreen';\r\n\r\n\r\n// UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport TabPanel from 'components/ui/TabPanel';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}))\r\n\r\n\r\n\r\n\r\nfunction AuthScreen() {\r\n\r\n\r\n  const classes = useStyles();\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  function handleTabChange(e, newValue) {\r\n    setTabIndex(newValue);\r\n  }\r\n\r\n\r\n  return (\r\n    <Container maxWidth='xs' className={classes.root}>\r\n      <Paper elevation={2}>\r\n\r\n        <AppBar position='static' variant='outlined' component='div'>\r\n\r\n          <Tabs\r\n            value={tabIndex} onChange={handleTabChange}\r\n            textColor='secondary' centered\r\n          >\r\n\r\n            <Tab label='Sign In' id='auth-tab-0' />\r\n            <Tab label='Sign Up' id='auth-tab-1' />\r\n          </Tabs>\r\n\r\n        </AppBar>\r\n\r\n\r\n        <TabPanel value={tabIndex} index={0} form>\r\n          <SignInScreen />\r\n        </TabPanel>\r\n\r\n        <TabPanel value={tabIndex} index={1} form>\r\n          <SignUpScreen />\r\n        </TabPanel>\r\n\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nexport default AuthScreen;\r\n\r\n","import React from 'react';\r\n\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\n// UI\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\n\r\n\r\nfunction Loading({ message }){\r\n\r\n  return(\r\n    <Box\r\n      width='100%'\r\n      height='100%'\r\n      display='flex'\r\n      // alignContent='center'\r\n      alignItems='center'\r\n      justifyContent='center'\r\n    >\r\n\r\n      <Box mr={2}>\r\n        <CircularProgress />\r\n      </Box>\r\n\r\n\r\n      <Typography>\r\n        { message }\r\n      </Typography>\r\n\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\nLoading.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n}\r\n\r\n\r\n\r\nexport default Loading;\r\n\r\n","import React, { useState } from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ui, calendar } from 'state-manager/actions';\r\nimport useForm from 'hooks/useForm';\r\nimport moment from 'moment';\r\nimport { MAX_CHARS_EVENT_DESCRIPTION } from 'fixtures';\r\n\r\n\r\n// UI\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { DateTimePicker } from '@material-ui/pickers';\r\nimport Loading from 'components/ui/Loading';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  form: {\r\n    margin: theme.spacing(3),\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  inputField: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textArea: {\r\n    minHeight: 140\r\n  },\r\n  buttonColorSecondary: {\r\n    color: theme.palette.secondary.dark,\r\n    borderColor: theme.palette.secondary.dark,\r\n  },\r\n  buttonColorWarning: {\r\n    color: theme.palette.warning.dark,\r\n    borderColor: theme.palette.warning.dark,\r\n  }\r\n}));\r\n\r\n\r\n\r\nconst initialValues = {\r\n  start: moment().minutes(0).seconds(0).add(1, 'h').toDate(),\r\n  end: moment().minutes(0).seconds(0).add(2, 'h').toDate(),\r\n  title: 'New Event',\r\n  description: '',\r\n}\r\n\r\n\r\nconst initialErrorValues = {\r\n  // Extra values added just in case\r\n  start: {\r\n    error: false,\r\n    message: null\r\n  },\r\n  end: {\r\n    error: false,\r\n    msessage: null\r\n  },\r\n  title: {\r\n    error: false,\r\n    message: null\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction CreateEventModal() {\r\n\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [error, setError] = useState(initialErrorValues);\r\n  const { activeEvent, loading } = useSelector(state => state.calendar);\r\n\r\n\r\n  const [values, handleChange] = useForm(activeEvent || initialValues)\r\n  const { start, end, title, description } = values;\r\n\r\n\r\n\r\n  function handleDateChange(name, value) {\r\n    handleChange({ target: { name, value } });\r\n  }\r\n\r\n  function handleDescriptionChange({ target }) {\r\n    if (target.value.length <= MAX_CHARS_EVENT_DESCRIPTION) {\r\n      handleChange({ target });\r\n    }\r\n  }\r\n\r\n\r\n  function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (moment(start).isSameOrAfter(moment(end))) {\r\n      setError({ \r\n        ...error,\r\n        end: {\r\n          error: true, message: \"End Date can't be before the Start Date\"\r\n        }\r\n      })\r\n      return false;\r\n    }\r\n\r\n    if (activeEvent) {\r\n      dispatch(calendar.updateEvent(values));\r\n    } else {\r\n      dispatch(calendar.addNew(values));\r\n    }\r\n  }\r\n\r\n  function handleCancel() {\r\n    dispatch(ui.closeModal());\r\n  }\r\n\r\n\r\n  function handleDelete() {\r\n    if (values.id) { // Just in case, but not needed\r\n      dispatch(calendar.deleteNote(values));\r\n    } else {\r\n      dispatch(ui.closeModal());\r\n    }\r\n  }\r\n\r\n\r\n\r\n  if (loading) {\r\n    return <Loading message=\"Conneting DB...\" />\r\n  }\r\n\r\n\r\n  return (\r\n    <Card>\r\n\r\n      <CardHeader\r\n        title='Create a New Event'\r\n        subtitle='Created by: User Name'\r\n      />\r\n\r\n      <form onSubmit={handleFormSubmit} className={classes.form}>\r\n\r\n        <Grid container spacing={2}>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <DateTimePicker\r\n              fullWidth\r\n\r\n              name='start'\r\n              inputVariant='outlined'\r\n              variant='inline'\r\n              label='Start Date'\r\n              invalidLabel='Date Invalid'\r\n\r\n              error={error.start.error}\r\n              helperText={error.start.message}\r\n              className={classes.inputField}\r\n              value={start}\r\n              onChange={date => handleDateChange('start', date.toDate())}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <DateTimePicker\r\n              fullWidth\r\n              name='end'\r\n              minDateMessage=\"Date can't be before the Start Date\"\r\n              inputVariant='outlined'\r\n              variant='inline'\r\n              label='End Date'\r\n              invalidLabel='Date Invalid'\r\n\r\n              error={error.end.error}\r\n              helperText={error.end.message}\r\n              className={classes.inputField}\r\n              minDate={moment(start).add(1, 'minute').toDate()}\r\n              value={end}\r\n              onChange={date => handleDateChange('end', date.toDate())}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n\r\n        <TextField\r\n          required\r\n          fullWidth\r\n          name='title'\r\n          label='Event Title'\r\n          error={error.title.error}\r\n          helperText={error.title.message || 'Displayed in the Calendar'}\r\n          className={classes.inputField}\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <TextField\r\n          fullWidth\r\n          multiline\r\n          helperText={`${MAX_CHARS_EVENT_DESCRIPTION} Character max`}\r\n          label='Event Description'\r\n          variant='outlined'\r\n          name='description'\r\n          rows={5}\r\n          className={classes.inputField}\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n\r\n        <Box\r\n          m={2}\r\n          display='flex'\r\n          justifyContent='space-around'\r\n        >\r\n\r\n          {\r\n            activeEvent &&\r\n            <Button\r\n              variant='outlined'\r\n              color='primary'\r\n              classes={{ outlinedPrimary: classes.buttonColorWarning }}\r\n              onClick={handleDelete}\r\n            >\r\n              Delete\r\n            </Button>\r\n          }\r\n\r\n          <Button\r\n            variant='outlined'\r\n            onClick={handleCancel}\r\n          >\r\n            Go Back\r\n          </Button>\r\n\r\n\r\n          <Button\r\n            variant='outlined'\r\n            color='secondary'\r\n            classes={{ outlinedSecondary: classes.buttonColorSecondary }}\r\n            type='submit'\r\n          >\r\n            {activeEvent ? 'Update' : 'Create'}\r\n          </Button>\r\n\r\n        </Box>\r\n\r\n      </form>\r\n\r\n    </Card>\r\n  )\r\n}\r\n\r\n\r\nexport default CreateEventModal;\r\n\r\n","import React from 'react';\r\n\r\n// REDUX\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\n// UI\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Container from '@material-ui/core/Container';\r\nimport CreateEventModal from './createEventModal';\r\nimport { ui } from 'state-manager/actions';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  root: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}));\r\n\r\n\r\n\r\n\r\n\r\nfunction CalendarModal() {\r\n\r\n  const classes = useStyles();\r\n  const isOpen = useSelector(state => state.ui.modalVisible);\r\n  const dispatch = useDispatch();\r\n  \r\n  \r\n  function handleClose(){\r\n    dispatch(ui.closeModal());\r\n  }\r\n\r\n  return (\r\n    <Modal open={isOpen} onClose={handleClose}>\r\n      <Container maxWidth='sm' className={classes.root}>\r\n        \r\n        <CreateEventModal />\r\n\r\n      </Container>\r\n    </Modal>\r\n  )\r\n}\r\n\r\n\r\nexport default CalendarModal;\r\n\r\n","\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\n\r\n\r\n\r\nexport const CALENDAR_MESSAGES_EN = {\r\n  previous: <ArrowBackIcon style={{fontSize: 'inherit'}}/>,\r\n  next: <ArrowForwardIcon style={{fontSize: 'inherit'}}/>\r\n}","import React from 'react';\r\n\r\n// UI\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nfunction CalendarEvent({ event }){\r\n\r\n  // console.log(event);\r\n  const { title, user } = event;\r\n\r\n\r\n  return(\r\n    <Box>\r\n      <Typography variant='subtitle2'>{ title }</Typography>\r\n      <Typography variant='subtitle2'>- { user.name }</Typography>\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\nexport default CalendarEvent;\r\n\r\n","\r\n\r\n/**\r\n * Style generetor for the Event Box in the Calendar Screen/\r\n * @param {*} event \r\n */\r\nfunction eventStyleGenerator(event, start, end, isSelected){\r\n\r\n  // console.log(event, start, end, isSelected);\r\n  return({\r\n    // Style here!\r\n  });\r\n}\r\n\r\nexport default eventStyleGenerator;\r\n\r\n","import React from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { ui } from 'state-manager/actions'\r\n\r\n// UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n// import EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  root: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  }\r\n}));\r\n\r\n\r\n\r\nfunction FAB() {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n  function handleCreateEvent(){\r\n    dispatch(ui.openModal());\r\n  }\r\n\r\n\r\n  return (\r\n    <Fab\r\n      color='secondary'\r\n      aria-label='Create New Event'\r\n      onClick={handleCreateEvent}\r\n      className={classes.root}\r\n    >\r\n      <AddIcon />\r\n    </Fab>\r\n  )\r\n}\r\n\r\n\r\nexport default FAB;\r\n\r\n","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { calendar, ui } from 'state-manager/actions';\r\nimport moment from 'moment';\r\n\r\n\r\nimport { LAST_CALENDAR_VIEW } from 'fixtures';\r\nimport CalendarModal from 'components/modal';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport { CALENDAR_MESSAGES_EN } from 'components/calendar/calendar_messages';\r\nimport CalendarEvent from 'components/calendar/CalendarEvent';\r\nimport eventStyleGenerator from 'components/calendar/eventStyleGenerator';\r\nimport Box from '@material-ui/core/Box';\r\nimport FAB from 'components/ui/FAB';\r\nimport Loading from 'components/ui/Loading';\r\n\r\n\r\n\r\n\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nfunction CalendarScreen() {\r\n\r\n  const { events, loading } = useSelector(state => state.calendar);\r\n  const fistRender = useRef(true);\r\n  const dispatch = useDispatch();\r\n  const [view, setView] = useState(\r\n    localStorage.getItem(LAST_CALENDAR_VIEW) || 'month'\r\n  );\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    dispatch(calendar.loadEvents());\r\n  }, [dispatch]);\r\n\r\n\r\n\r\n  function handleSelect(event) {\r\n    dispatch(calendar.setActive(event));\r\n    dispatch(ui.openModal());\r\n  }\r\n\r\n  function handleViewChange(event) {\r\n    localStorage.setItem(LAST_CALENDAR_VIEW, event);\r\n    setView(event);\r\n  }\r\n\r\n\r\n  if (loading && fistRender.current) {\r\n    return <Loading message=\"Loading Events\" />\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      {fistRender.current = false}\r\n      <Box height='100%' mt={2}>\r\n\r\n        <Calendar\r\n          // Calendar Action Handlers\r\n          onSelectEvent={handleSelect}\r\n          onView={handleViewChange}\r\n\r\n          // Configuration\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          view={view} // React State handle the change now\r\n          events={events}\r\n          localizer={localizer}\r\n          messages={CALENDAR_MESSAGES_EN}\r\n\r\n          // Customization\r\n          eventPropGetter={eventStyleGenerator}\r\n          components={{ event: CalendarEvent }}\r\n        />\r\n\r\n      </Box>\r\n\r\n      <FAB />\r\n\r\n      <CalendarModal />\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default CalendarScreen;\r\n\r\n","import React from 'react';\r\n\r\n\r\n// UI\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n  },\r\n  margin: {\r\n    marginLeft: theme.spacing(1.2),\r\n    marginRight: theme.spacing(0.5),\r\n  },\r\n  divider_root: {\r\n    // width: '2px',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.75)',\r\n  }\r\n}));\r\n\r\n\r\n\r\nfunction NotFoundScreen() {\r\n\r\n  const classes = useStyles();\r\n\r\n\r\n  return (\r\n    <Container maxWidth='xs' className={classes.root}>\r\n      <Grid container justify='center'>\r\n\r\n        <Grid item className={classes.margin}>\r\n          <Typography>404</Typography>\r\n        </Grid>\r\n        <Grid item className={classes.margin}>\r\n          <Divider\r\n            orientation=\"vertical\"\r\n            classes={{ root: classes.divider_root }}\r\n          />\r\n        </Grid>\r\n        <Grid item className={classes.margin}>\r\n          <Typography>The page could not be found</Typography>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nexport default NotFoundScreen;\r\n\r\n","import React, { useEffect } from 'react';\r\n\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth } from 'state-manager/actions';\r\n\r\n\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport * as routes from './routes';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicOnlyRoute from './NoAuthOnlyRoute';\r\n\r\nimport AuthScreen from 'pages/auth/AuthScreen';\r\nimport CalendarScreen from 'pages/CalendarScreen';\r\nimport NotFound from 'pages/404NotFound';\r\nimport Loading from 'components/ui/Loading';\r\n\r\n\r\n\r\nfunction AppRouter() {\r\n\r\n  const validating = useSelector(state => state.auth.validating);\r\n  const isAuthenticated = useSelector(state => state.auth.uid? true: false);\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n  useEffect(() =>{\r\n  \r\n    dispatch(auth.validateToken());\r\n  }, [dispatch]);\r\n  \r\n\r\n\r\n  if(validating){\r\n    return <Loading message=\"Validating Credentials\"/>\r\n  }\r\n  \r\n\r\n  return (\r\n    <Switch>\r\n\r\n      <PublicOnlyRoute\r\n        exact\r\n        path={routes.AUTH}\r\n        component={AuthScreen}\r\n        redirectRoute={routes.MAIN}\r\n        isAuthenticated={isAuthenticated}\r\n      />\r\n\r\n      <PrivateRoute\r\n        exact\r\n        path={routes.MAIN}\r\n        component={CalendarScreen}\r\n        redirectRoute={routes.AUTH}\r\n        isAuthenticated={isAuthenticated}\r\n      />\r\n\r\n      <Route component={NotFound} />\r\n\r\n    </Switch>\r\n  )\r\n}\r\n\r\n\r\nexport default AppRouter;\r\n\r\n","import React from 'react';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { auth } from 'state-manager/actions';\r\n\r\n// UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport ToolBar from '@material-ui/core/ToolBar';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n// import MenuIcon from '@material-ui/icons/Menu';\r\n\r\n// import AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport SignOut from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n\r\n  appbarTitle: {\r\n    flexGrow: 1\r\n  },\r\n  colorPrimaryDark: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  }\r\n}))\r\n\r\n\r\n\r\n\r\nfunction Navbar() {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { uid, name } = useSelector(state => state.auth);\r\n  const isAuthenticated = uid ? true : false;\r\n\r\n\r\n  function handleSignOut(e) {\r\n\r\n    dispatch(auth.signOut());\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <AppBar\r\n      position='sticky'\r\n    // classes={{colorPrimary: classes.colorPrimaryDark}}\r\n    >\r\n      <ToolBar>\r\n\r\n        <Typography\r\n          component='h1' variant='h5'\r\n          className={classes.appbarTitle}\r\n        >\r\n          {name || 'Register to start'}\r\n        </Typography>\r\n\r\n\r\n        <IconButton\r\n          aria-label=\"Sign Out\"\r\n          aria-controls=\"menu-appbar\"\r\n          aria-haspopup=\"false\"\r\n          onClick={handleSignOut}\r\n          color=\"inherit\"\r\n          edge=\"end\"\r\n        >\r\n\r\n          {\r\n            isAuthenticated &&\r\n            <Tooltip title='Sign Out' arrow aria-label='Sign Out'>\r\n              <SignOut />\r\n            </Tooltip>\r\n          }\r\n\r\n        </IconButton>\r\n\r\n      </ToolBar>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\n\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ui } from 'state-manager/actions';\r\n\r\n// UI\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\r\n  root: {\r\n    width: '100%',\r\n    margin: theme.spacing(2),\r\n  },\r\n  w100: {\r\n    width: '100%',\r\n  }\r\n}))\r\n\r\n\r\n\r\n\r\n\r\nfunction ErrorAlert() {\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const error = useSelector(state => state.ui.error);\r\n\r\n\r\n  function handleClose() {\r\n    dispatch(ui.clearError());\r\n  }\r\n\r\n\r\n  return (\r\n    <Snackbar\r\n      open={!!error}\r\n      onClose={handleClose}\r\n      autoHideDuration={6000}\r\n      className={classes.root}\r\n    >\r\n\r\n      <Alert\r\n        severity='error'\r\n        variant=\"filled\"\r\n        elevation={4}\r\n        onClose={handleClose}\r\n      >\r\n        {error || 'Empty'}\r\n\r\n      </Alert>\r\n\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\n\r\nexport default ErrorAlert;\r\n\r\n","import React, { useMemo } from 'react';\r\n\r\nimport { createMuiTheme, \r\n         ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\r\n\r\n\r\n\r\nfunction customMuiTheme(darkMode = false) {\r\n\r\n  return createMuiTheme({\r\n    palette: {\r\n      type: darkMode? 'dark': 'light',\r\n      primary: {\r\n        main: '#007ac2',\r\n      },\r\n      secondary: {\r\n        main: '#64dd17',\r\n      },\r\n    },\r\n    overrides: {\r\n      MuiCssBaseline: {\r\n        '@global': {\r\n          html: {\r\n            WebkitFontSmoothing: 'auto',\r\n          },\r\n          body: {\r\n            height: '100vh'\r\n          },\r\n          '#root': {\r\n            height: '100%',\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\nfunction ThemeProvider({ children }){\r\n\r\n  // const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n  const theme = useMemo(() => customMuiTheme(), []);\r\n\r\n  return(\r\n    <MuiThemeProvider theme={theme}>\r\n      { children }\r\n    </MuiThemeProvider>\r\n  )\r\n}\r\n\r\n\r\nexport default ThemeProvider;\r\n\r\n","import React from 'react';\n\nimport { Provider } from \"react-redux\";\nimport store from 'state-manager/store';\n\nimport { BrowserRouter } from 'react-router-dom';\nimport AppRouter from 'router/AppRouter';\nimport Navbar from 'components/ui/Navbar';\nimport ErrorAlert from 'components/ui/ErrorAlert';\nimport ThemeProvider from 'components/ThemeProvider';\n\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport MomentUtils from '@date-io/moment';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport 'fontsource-roboto';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\n\n\n\n/**\n * Provide all the HOC, Context Providers, Redux Providers and\n * Components that must come before our App.\n * \n * The real code of the application is inside the AppRouter.\n */\nfunction App() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <ThemeProvider>\n          <MuiPickersUtilsProvider utils={MomentUtils}>\n\n            <CssBaseline />\n            <Navbar />\n            <AppRouter />\n            <ErrorAlert />\n            \n          </MuiPickersUtilsProvider>\n        </ThemeProvider>\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './CalendarApp';\n\n\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}