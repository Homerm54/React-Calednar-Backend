(this["webpackJsonpreact-calendar"]=this["webpackJsonpreact-calendar"]||[]).push([[0],{265:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setActive",(function(){return P})),n.d(r,"deleteActive",(function(){return V})),n.d(r,"addNew",(function(){return F})),n.d(r,"deleteNote",(function(){return R})),n.d(r,"updateEvent",(function(){return _})),n.d(r,"loadEvents",(function(){return B}));var a={};n.r(a),n.d(a,"closeModal",(function(){return G})),n.d(a,"openModal",(function(){return z})),n.d(a,"setError",(function(){return J})),n.d(a,"clearError",(function(){return H}));var c={};n.r(c),n.d(c,"signIn",(function(){return K})),n.d(c,"signUp",(function(){return Q})),n.d(c,"validateToken",(function(){return Z})),n.d(c,"signOut",(function(){return $}));var o=n(2),i=n(0),s=n(11),l=n.n(s),u=n(16),d=n(60),j=n(140),b=n(8),v={uiOpenModal:"[UI] Open Modal",uiCloseModal:"[UI] Close Modal",uiSetError:"[UI] Error Set on Store",uiClearError:"[UI] Error Cleared from Store",eventAddNew:"[Event] Add New Event",eventSetActive:"[Event] Set Active Event",eventDelteActive:"[Event] Delete Active",eventUpdate:"[Event] Update Event",eventDelete:"[Event] Delete Event",eventStartLoading:"[Event] Start Loading",eventClearLoading:"[Event] Clear Loading",eventSetEventArray:"[Event] Set Events Array",authSignIn:"[Auth] Sign In",authSignOut:"[Auth] Sign Out",authValidated:"[Auth] Credentials Validated"},p={validating:!0,uid:null,name:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.authSignIn:return Object(b.a)(Object(b.a)({},e),{},{uid:t.payload.uid,name:t.payload.name,validating:!1});case v.authValidated:return Object(b.a)(Object(b.a)({},e),{},{validating:!1});case v.authSignOut:return Object(b.a)(Object(b.a)({},e),{},{uid:null,name:null});default:return e}},O=n(154),h={events:[],activeEvent:null,loading:!0};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.eventSetActive:return Object(b.a)(Object(b.a)({},e),{},{activeEvent:t.payload.event});case v.eventDelteActive:return Object(b.a)(Object(b.a)({},e),{},{activeEvent:null});case v.eventAddNew:return Object(b.a)(Object(b.a)({},e),{},{activeEvent:null,events:[].concat(Object(O.a)(e.events),[t.payload.event])});case v.eventDelete:return Object(b.a)(Object(b.a)({},e),{},{activeEvent:null,events:e.events.filter((function(e){return e.id!==t.payload.id}))});case v.eventUpdate:var n=t.payload.event;return Object(b.a)(Object(b.a)({},e),{},{activeEvent:null,events:e.events.map((function(e){return e.id===n.id?n:e}))});case v.eventStartLoading:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case v.eventClearLoading:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case v.eventSetEventArray:return Object(b.a)(Object(b.a)({},e),{},{events:t.payload.events});case v.authSignOut:return Object(b.a)(Object(b.a)({},e),{},{events:[]});default:return e}},f={modalVisible:!1,error:null};var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.uiOpenModal:return Object(b.a)(Object(b.a)({},e),{},{modalVisible:!0});case v.uiCloseModal:return Object(b.a)(Object(b.a)({},e),{},{modalVisible:!1});case v.uiSetError:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload.error});case v.uiClearError:return Object(b.a)(Object(b.a)({},e),{},{error:null});case v.eventUpdate:case v.eventDelete:case v.eventAddNew:return Object(b.a)(Object(b.a)({},e),{},{modalVisible:!1});default:return e}},y=Object(d.c)({ui:x,calendar:g,auth:m}),E="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,w=Object(d.e)(y,E(Object(d.a)(j.a))),S=n(76),C=n(27),k=n.n(C),N=n(49),D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r="".concat("https://the-react-calendar.herokuapp.com/api","/").concat(e);return"GET"===n?fetch(r):fetch(r,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r="".concat("https://the-react-calendar.herokuapp.com/api","/").concat(e),a=localStorage.getItem("token")||"Empty-String-Here";return"GET"===n?fetch(r,{method:n,headers:{"x-token":a}}):fetch(r,{method:n,headers:{"Content-type":"application/json","x-token":a},body:JSON.stringify(t)})},T=n(32),I=n.n(T);function L(e){return{type:v.eventAddNew,payload:{event:e}}}function M(){return{type:v.eventStartLoading}}function U(){return{type:v.eventClearLoading}}function W(e){return{type:v.eventUpdate,payload:{event:e}}}function P(e){return{type:v.eventSetActive,payload:{event:e}}}function V(){return{type:v.eventDelteActive}}function F(e){return function(){var t=Object(N.a)(k.a.mark((function t(n,r){var c,o,i,s,l,u;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(M()),c=r().auth,o=c.uid,i=c.name,t.prev=2,t.next=5,A("events/create",e,"POST");case 5:return s=t.sent,t.next=8,s.json();case 8:(l=t.sent).ok?(u=l.event.id,e.id=u,e.user={_id:o,name:i},n(L(e))):(console.error("Error:",l.msg),n(a.setError(l.msg))),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),n(a.setError(t.t0.toString()));case 16:n(U());case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()}function R(){return function(){var e=Object(N.a)(k.a.mark((function e(t,n){var r,c,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(M()),r=n().auth.uid,(c=n().calendar.activeEvent).user._id!==r){e.next=20;break}return e.prev=4,e.next=7,A("events/delete/".concat(c.id),{},"DELETE");case 7:return o=e.sent,e.next=10,o.json();case 10:(i=e.sent).ok?t((s=c.id,{type:v.eventDelete,payload:{id:s}})):(console.error("Error:",i.msg),t(a.setError(i.msg))),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),t(a.setError(e.t0.toString()));case 18:e.next=21;break;case 20:t(a.setError("Not authorized to edit other user's events"));case 21:t(U());case 22:case"end":return e.stop()}var s}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}()}function _(e){return function(){var t=Object(N.a)(k.a.mark((function t(n,r){var c,o,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(M()),c=r().auth.uid,e.user._id!==c){t.next=19;break}return t.prev=3,t.next=6,A("events/update/".concat(e.id),e,"PUT");case 6:return o=t.sent,t.next=9,o.json();case 9:(i=t.sent).ok?n(W(e)):(console.error("Error:",i.msg),n(a.setError(i.msg))),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),console.error(t.t0),n(a.setError(t.t0.toString()));case 17:t.next=20;break;case 19:n(a.setError("Not authorized to edit other user's events"));case 20:n(U());case 21:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,n){return t.apply(this,arguments)}}()}function B(){return function(){var e=Object(N.a)(k.a.mark((function e(t){var n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v.eventStartLoading}),e.prev=1,e.next=4,A("events/read");case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).ok?(c=(c=r.events).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{start:I()(e.start).toDate(),end:I()(e.end).toDate()})})),t({type:v.eventSetEventArray,payload:{events:c}})):(console.error("Error:",r.msg),t(a.setError(r.msg))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),t(a.setError(e.t0.toString()));case 15:t({type:v.eventClearLoading});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}function G(){return function(e){e(V()),e({type:v.uiCloseModal})}}function z(){return{type:v.uiOpenModal}}function J(e){return{type:v.uiSetError,payload:{error:e}}}function H(){return{type:v.uiClearError}}var X=function(e,t){return{type:v.authSignIn,payload:{uid:e,name:t}}},q=function(e){localStorage.setItem("token",e),localStorage.setItem("token-time",(new Date).getTime())},Y=function(){localStorage.clear("token"),localStorage.clear("token-time")},K=function(e,t){return function(){var n=Object(N.a)(k.a.mark((function n(r){var c,o,i,s,l,u;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D("auth/SignIn",{email:e,password:t},"POST");case 3:return c=n.sent,n.next=6,c.json();case 6:if(o=n.sent,i=o.ok,s=o.name,l=o.uid,u=o.token,i)try{q(u),r(X(l,s))}catch(d){console.log("Error saving data:",d),r(a.setError("Error saving data on device, check space"))}else console.log("Error:",o.msg),r(a.setError(o.msg));n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),r(a.setError(n.t0.toString()));case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},Q=function(e){var t=e.email,n=e.password,r=e.name;return function(){var e=Object(N.a)(k.a.mark((function e(c){var o,i,s,l,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("auth/SignUp",{email:t,password:n,name:r},"POST");case 3:return o=e.sent,e.next=6,o.json();case 6:if(i=e.sent,s=i.ok,l=i.uid,u=i.token,s)try{q(u),c(X(l,i.name))}catch(d){console.log("Error saving data:",d),c(a.setError("Error saving data on device, check space"))}else console.log("Error:",i.msg),c(a.setError(i.msg));e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),c(a.setError(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Z=function(){return function(){var e=Object(N.a)(k.a.mark((function e(t){var n,r,c,o,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("auth/JWTRevalidation");case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,c=r.ok,o=r.name,i=r.uid,s=r.token,c)try{q(s),t(X(i,o))}catch(l){console.log("Error saving data:",l),t(a.setError("Error saving data on device, check space"))}else Y(),t({type:v.authSignOut});t({type:v.authValidated}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),t(a.setError(e.t0.toString()));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},$=function(){return function(e){try{Y(),e({type:v.authSignOut})}catch(t){a.setError("Error saving data on device, check space")}}},ee=n(19),te="/auth",ne=n(59);function re(e){var t=e.isAuthenticated,n=e.component,r=e.redirectRoute,a=Object(ne.a)(e,["isAuthenticated","component","redirectRoute"]);return Object(o.jsx)(ee.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(o.jsx)(n,Object(b.a)({},e)):Object(o.jsx)(ee.a,{to:r})}}))}function ae(e){var t=e.isAuthenticated,n=e.component,r=e.redirectRoute,a=Object(ne.a)(e,["isAuthenticated","component","redirectRoute"]);return Object(o.jsx)(ee.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(o.jsx)(ee.a,{to:r}):Object(o.jsx)(n,Object(b.a)({},e))}}))}var ce=n(23),oe=n(71),ie=n.n(oe),se=n(87);var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(e),n=Object(ce.a)(t,2),r=n[0],a=n[1];function c(){a(e)}function o(e){var t=e.target;a(Object(b.a)(Object(b.a)({},r),{},Object(se.a)({},t.name,t.value)))}return[r,o,c]},ue="Last Calendar View",de=n(303),je=n(302),be=n(299),ve=n(94),pe=n.n(ve),me=Object(o.jsx)(be.a,{position:"end",children:Object(o.jsx)(je.a,{children:Object(o.jsx)(pe.a,{})})}),Oe={email:{error:!1,message:void 0},password:{error:!1,message:void 0}},he={email:"",password:""},ge=Object(de.a)((function(e){return{margin:{marginTop:"".concat(e.spacing(2),"px !important"),marginBottom:"".concat(e.spacing(2),"px !important")}}})),fe=n(304),xe=n(330),ye=n(305),Ee=n(306),we=n(141),Se=n.n(we),Ce=n(142),ke=n.n(Ce);var Ne=function(e){var t=Object(i.useState)(!1),n=Object(ce.a)(t,2),r=n[0],a=n[1],c=e.value,s=e.onChange,l=e.name,u=e.id,d=e.label,j=e.helperText,v=e.error,p=Object(ne.a)(e,["value","onChange","name","id","label","helperText","error"]);return Object(o.jsxs)(fe.a,Object(b.a)(Object(b.a)({},p),{},{children:[Object(o.jsx)(xe.a,{htmlFor:u,children:d||"Password"}),Object(o.jsx)(ye.a,{id:u,name:l,type:r?"text":"password",value:c,onChange:s,error:v||!1,endAdornment:Object(o.jsx)(be.a,{position:"end",children:Object(o.jsx)(je.a,{"aria-label":"toggle password visibility",onClick:function(){a(!r)},children:r?Object(o.jsx)(Se.a,{}):Object(o.jsx)(ke.a,{})})})}),Object(o.jsx)(Ee.a,{children:j})]}))},De=n(323),Ae=n(307);var Te=function(){var e=ge(),t=Object(u.c)((function(e){return e.ui.error})),n=Object(i.useState)(Oe),r=Object(ce.a)(n,2),a=r[0],s=r[1],l=Object(i.useState)(!1),d=Object(ce.a)(l,2),j=d[0],v=d[1],p=le(he),m=Object(ce.a)(p,2),O=m[0],h=m[1],g=O.password,f=O.email,x=Object(u.b)();return Object(i.useEffect)((function(){t&&v(!1)}),[t]),Object(o.jsxs)(De.a,{p:3,pt:2,mb:2,children:[Object(o.jsxs)(fe.a,{fullWidth:!0,className:e.margin,children:[Object(o.jsx)(xe.a,{htmlFor:"email-input",children:"Email"}),Object(o.jsx)(ye.a,{id:"email-input",name:"email",type:"email",value:f,onChange:h,endAdornment:me,error:a.email.error}),Object(o.jsx)(Ee.a,{children:a.email.message})]}),Object(o.jsx)(Ne,{fullWidth:!0,error:a.password.error,className:e.margin,id:"password",name:"password",label:"Password",value:g,onChange:h,helperText:a.password.message}),Object(o.jsxs)(De.a,{mt:2,p:3,display:"flex",justifyContent:"space-between",children:[Object(o.jsx)(Ae.a,{color:"primary",disabled:!0,children:"Reset Password"}),Object(o.jsx)(Ae.a,{disabled:j,color:"secondary",variant:"contained",onClick:function(e){e.preventDefault(),function(){var e={min:5,max:10},t=!1,n=Object(b.a)({},Oe);return ie.a.isEmail(f)||(t=!0,n.email={error:!0,message:"Invalid email address"}),ie.a.isLength(g,e)||(t=!0,n.password={error:!0,message:"Length must be between ".concat(5," and ").concat(10)}),t?(s(n),!1):(s(Oe),!0)}()&&(x(c.signIn(f,g)),v(!0))},children:"Sign In"})]})]})},Ie=n(143),Le=n.n(Ie),Me=Object(o.jsx)(be.a,{position:"end",children:Object(o.jsx)(je.a,{children:Object(o.jsx)(Le.a,{})})}),Ue=Object(o.jsx)(be.a,{position:"end",children:Object(o.jsx)(je.a,{children:Object(o.jsx)(pe.a,{})})}),We={email:"",name:"",password:"",password2:""},Pe={email:{error:!1,message:void 0},name:{error:!1,message:void 0},password:{error:!1,message:void 0},password2:{error:!1,message:void 0}},Ve=Object(de.a)((function(e){return{margin:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));var Fe=function(){var e=Ve(),t=Object(u.c)((function(e){return e.ui.error})),n=Object(u.b)(),r=Object(i.useState)(Pe),a=Object(ce.a)(r,2),s=a[0],l=a[1],d=Object(i.useState)(!1),j=Object(ce.a)(d,2),v=j[0],p=j[1],m=le(We),O=Object(ce.a)(m,2),h=O[0],g=O[1],f=h.password,x=h.password2,y=h.email,E=h.name;return Object(i.useEffect)((function(){t&&p(!1)}),[t]),Object(o.jsxs)(De.a,{p:3,pt:2,mb:2,children:[Object(o.jsxs)(fe.a,{fullWidth:!0,className:e.margin,children:[Object(o.jsx)(xe.a,{htmlFor:"email-input",children:"Email"}),Object(o.jsx)(ye.a,{id:"email-input",name:"email",type:"email",value:y,onChange:g,endAdornment:Ue,error:s.email.error}),Object(o.jsx)(Ee.a,{children:s.email.message})]}),Object(o.jsxs)(fe.a,{fullWidth:!0,className:e.margin,children:[Object(o.jsx)(xe.a,{htmlFor:"name-input",children:"Name"}),Object(o.jsx)(ye.a,{id:"name-input",name:"name",type:"text",value:E,onChange:g,endAdornment:Me,error:s.name.error}),Object(o.jsx)(Ee.a,{children:s.name.message})]}),Object(o.jsx)(Ne,{fullWidth:!0,className:e.margin,id:"password",name:"password",label:"Password",value:f,onChange:g,error:s.password.error,helperText:s.password.message||"Length between ".concat(5," and ").concat(10)}),Object(o.jsx)(Ne,{fullWidth:!0,className:e.margin,id:"password2",name:"password2",label:"Password Again",value:x,onChange:g,error:s.password2.error,helperText:s.password2.message||"Please, repeate your password"}),Object(o.jsx)(De.a,{mt:2,p:3,display:"flex",justifyContent:"end",children:Object(o.jsx)(Ae.a,{disabled:v,color:"secondary",variant:"contained",onClick:function(e){e.preventDefault(),p(!0),!function(){var e={min:5,max:10},t=!1,n=Object(b.a)({},Pe);return ie.a.isEmail(y)||(t=!0,n.email={error:!0,message:"Invalid email address"}),ie.a.isLength(f,e)||(t=!0,n.password={error:!0,message:"Length must be between ".concat(5," and ").concat(10)}),f!==x&&(t=!0,n.password2={error:!0,message:"Passwords must match"}),E.length>=3||(t=!0,n.name={error:!0,message:"Your name must be at least 3 characters long"}),t?(l(n),!1):(l(Pe),!0)}()?p(!1):n(c.signUp(h))},children:"Sign Up"})})]})},Re=n(308),_e=n(115),Be=n(309),Ge=n(310),ze=n(325);var Je=function(e){var t=e.children,n=e.value,r=e.index,a=e.form,c=Object(ne.a)(e,["children","value","index","form"]);return a?Object(o.jsx)("form",Object(b.a)(Object(b.a)({hidden:n!==r,id:"auth-form-".concat(r),"aria-labelledby":"auth-form-".concat(r)},c),{},{children:n===r&&t})):Object(o.jsx)("div",Object(b.a)(Object(b.a)({hidden:n!==r,id:"tab-panel-".concat(r),"aria-labelledby":"tab-panel-".concat(r)},c),{},{children:n===r&&t}))},He=Object(de.a)((function(e){return{root:{display:"flex",flexFlow:"column",justifyContent:"center",height:"100%",marginBottom:e.spacing(2)}}}));var Xe=function(){var e=He(),t=Object(i.useState)(0),n=Object(ce.a)(t,2),r=n[0],a=n[1];return Object(o.jsx)(Re.a,{maxWidth:"xs",className:e.root,children:Object(o.jsxs)(_e.a,{elevation:2,children:[Object(o.jsx)(Be.a,{position:"static",variant:"outlined",component:"div",children:Object(o.jsxs)(ze.a,{value:r,onChange:function(e,t){a(t)},textColor:"secondary",centered:!0,children:[Object(o.jsx)(Ge.a,{label:"Sign In",id:"auth-tab-0"}),Object(o.jsx)(Ge.a,{label:"Sign Up",id:"auth-tab-1"})]})}),Object(o.jsx)(Je,{value:r,index:0,form:!0,children:Object(o.jsx)(Te,{})}),Object(o.jsx)(Je,{value:r,index:1,form:!0,children:Object(o.jsx)(Fe,{})})]})})},qe=n(269),Ye=n(312),Ke=n(313),Qe=n(324),Ze=n(314),$e=n(322),et=n(311),tt=n(79);var nt=function(e){var t=e.message;return Object(o.jsxs)(De.a,{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:[Object(o.jsx)(De.a,{mr:2,children:Object(o.jsx)(et.a,{})}),Object(o.jsx)(tt.a,{children:t})]})},rt=Object(de.a)((function(e){return{form:{margin:e.spacing(3),marginTop:e.spacing(1)},inputField:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},textArea:{minHeight:140},buttonColorSecondary:{color:e.palette.secondary.dark,borderColor:e.palette.secondary.dark},buttonColorWarning:{color:e.palette.warning.dark,borderColor:e.palette.warning.dark}}})),at={start:I()().minutes(0).seconds(0).add(1,"h").toDate(),end:I()().minutes(0).seconds(0).add(2,"h").toDate(),title:"New Event",description:""},ct={start:{error:!1,message:null},end:{error:!1,msessage:null},title:{error:!1,message:null}};var ot=function(){var e=rt(),t=Object(u.b)(),n=Object(i.useState)(ct),c=Object(ce.a)(n,2),s=c[0],l=c[1],d=Object(u.c)((function(e){return e.calendar})),j=d.activeEvent,v=d.loading,p=le(j||at),m=Object(ce.a)(p,2),O=m[0],h=m[1],g=O.start,f=O.end,x=O.title,y=O.description;function E(e,t){h({target:{name:e,value:t}})}return v?Object(o.jsx)(nt,{message:"Conneting DB..."}):Object(o.jsxs)(Ye.a,{children:[Object(o.jsx)(Ke.a,{title:"Create a New Event",subtitle:"Created by: User Name"}),Object(o.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),I()(g).isSameOrAfter(I()(f)))return l(Object(b.a)(Object(b.a)({},s),{},{end:{error:!0,message:"End Date can't be before the Start Date"}})),!1;t(j?r.updateEvent(O):r.addNew(O))},className:e.form,children:[Object(o.jsxs)(Ze.a,{container:!0,spacing:2,children:[Object(o.jsx)(Ze.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)($e.a,{fullWidth:!0,name:"start",inputVariant:"outlined",variant:"inline",label:"Start Date",invalidLabel:"Date Invalid",error:s.start.error,helperText:s.start.message,className:e.inputField,value:g,onChange:function(e){return E("start",e.toDate())}})}),Object(o.jsx)(Ze.a,{item:!0,xs:12,sm:6,children:Object(o.jsx)($e.a,{fullWidth:!0,name:"end",minDateMessage:"Date can't be before the Start Date",inputVariant:"outlined",variant:"inline",label:"End Date",invalidLabel:"Date Invalid",error:s.end.error,helperText:s.end.message,className:e.inputField,minDate:I()(g).add(1,"minute").toDate(),value:f,onChange:function(e){return E("end",e.toDate())}})})]}),Object(o.jsx)(Qe.a,{required:!0,fullWidth:!0,name:"title",label:"Event Title",error:s.title.error,helperText:s.title.message||"Displayed in the Calendar",className:e.inputField,value:x,onChange:h}),Object(o.jsx)(Qe.a,{fullWidth:!0,multiline:!0,helperText:"".concat(150," Character max"),label:"Event Description",variant:"outlined",name:"description",rows:5,className:e.inputField,value:y,onChange:function(e){var t=e.target;t.value.length<=150&&h({target:t})}}),Object(o.jsxs)(De.a,{m:2,display:"flex",justifyContent:"space-around",children:[j&&Object(o.jsx)(Ae.a,{variant:"outlined",color:"primary",classes:{outlinedPrimary:e.buttonColorWarning},onClick:function(){O.id?t(r.deleteNote(O)):t(a.closeModal())},children:"Delete"}),Object(o.jsx)(Ae.a,{variant:"outlined",onClick:function(){t(a.closeModal())},children:"Go Back"}),Object(o.jsx)(Ae.a,{variant:"outlined",color:"secondary",classes:{outlinedSecondary:e.buttonColorSecondary},type:"submit",children:j?"Update":"Create"})]})]})]})},it=Object(de.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}));var st=function(){var e=it(),t=Object(u.c)((function(e){return e.ui.modalVisible})),n=Object(u.b)();return Object(o.jsx)(qe.a,{open:t,onClose:function(){n(a.closeModal())},children:Object(o.jsx)(Re.a,{maxWidth:"sm",className:e.root,children:Object(o.jsx)(ot,{})})})},lt=n(113),ut=n(147),dt=n.n(ut),jt=n(148),bt=n.n(jt),vt={previous:Object(o.jsx)(dt.a,{style:{fontSize:"inherit"}}),next:Object(o.jsx)(bt.a,{style:{fontSize:"inherit"}})};var pt=function(e){var t=e.event,n=t.title,r=t.user;return Object(o.jsxs)(De.a,{children:[Object(o.jsx)(tt.a,{variant:"subtitle2",children:n}),Object(o.jsxs)(tt.a,{variant:"subtitle2",children:["- ",r.name]})]})};var mt=function(e,t,n,r){return{}},Ot=n(318),ht=n(149),gt=n.n(ht),ft=Object(de.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));var xt=function(){var e=ft(),t=Object(u.b)();return Object(o.jsx)(Ot.a,{color:"secondary","aria-label":"Create New Event",onClick:function(){t(a.openModal())},className:e.root,children:Object(o.jsx)(gt.a,{})})},yt=Object(lt.b)(I.a);var Et=function(){var e=Object(u.c)((function(e){return e.calendar})),t=e.events,n=e.loading,c=Object(i.useRef)(!0),s=Object(u.b)(),l=Object(i.useState)(localStorage.getItem(ue)||"month"),d=Object(ce.a)(l,2),j=d[0],b=d[1];return Object(i.useEffect)((function(){s(r.loadEvents())}),[s]),n&&c.current?Object(o.jsx)(nt,{message:"Loading Events"}):Object(o.jsxs)(o.Fragment,{children:[c.current=!1,Object(o.jsx)(De.a,{height:"100%",mt:2,children:Object(o.jsx)(lt.a,{onSelectEvent:function(e){s(r.setActive(e)),s(a.openModal())},onView:function(e){localStorage.setItem(ue,e),b(e)},startAccessor:"start",endAccessor:"end",view:j,events:t,localizer:yt,messages:vt,eventPropGetter:mt,components:{event:pt}})}),Object(o.jsx)(xt,{}),Object(o.jsx)(st,{})]})},wt=n(319),St=Object(de.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},margin:{marginLeft:e.spacing(1.2),marginRight:e.spacing(.5)},divider_root:{backgroundColor:"rgba(0, 0, 0, 0.75)"}}}));var Ct=function(){var e=St();return Object(o.jsx)(Re.a,{maxWidth:"xs",className:e.root,children:Object(o.jsxs)(Ze.a,{container:!0,justify:"center",children:[Object(o.jsx)(Ze.a,{item:!0,className:e.margin,children:Object(o.jsx)(tt.a,{children:"404"})}),Object(o.jsx)(Ze.a,{item:!0,className:e.margin,children:Object(o.jsx)(wt.a,{orientation:"vertical",classes:{root:e.divider_root}})}),Object(o.jsx)(Ze.a,{item:!0,className:e.margin,children:Object(o.jsx)(tt.a,{children:"The page could not be found"})})]})})};var kt=function(){var e=Object(u.c)((function(e){return e.auth.validating})),t=Object(u.c)((function(e){return!!e.auth.uid})),n=Object(u.b)();return Object(i.useEffect)((function(){n(c.validateToken())}),[n]),e?Object(o.jsx)(nt,{message:"Validating Credentials"}):Object(o.jsxs)(ee.d,{children:[Object(o.jsx)(ae,{exact:!0,path:te,component:Xe,redirectRoute:"/",isAuthenticated:t}),Object(o.jsx)(re,{exact:!0,path:"/",component:Et,redirectRoute:te,isAuthenticated:t}),Object(o.jsx)(ee.b,{component:Ct})]})},Nt=n(315),Dt=n(329),At=n(151),Tt=n.n(At),It=Object(de.a)((function(e){return{appbarTitle:{flexGrow:1},colorPrimaryDark:{backgroundColor:e.palette.primary.dark}}}));var Lt=function(){var e=It(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.auth})),r=n.uid,a=n.name,i=!!r;return Object(o.jsx)(Be.a,{position:"sticky",children:Object(o.jsxs)(Nt.a,{children:[Object(o.jsx)(tt.a,{component:"h1",variant:"h5",className:e.appbarTitle,children:a||"Register to start"}),Object(o.jsx)(je.a,{"aria-label":"Sign Out","aria-controls":"menu-appbar","aria-haspopup":"false",onClick:function(e){t(c.signOut())},color:"inherit",edge:"end",children:i&&Object(o.jsx)(Dt.a,{title:"Sign Out",arrow:!0,"aria-label":"Sign Out",children:Object(o.jsx)(Tt.a,{})})})]})})},Mt=n(326),Ut=n(327),Wt=Object(de.a)((function(e){return{root:{width:"100%",margin:e.spacing(2)},w100:{width:"100%"}}}));var Pt=function(){var e=Wt(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.ui.error}));function r(){t(a.clearError())}return Object(o.jsx)(Ut.a,{open:!!n,onClose:r,autoHideDuration:6e3,className:e.root,children:Object(o.jsx)(Mt.a,{severity:"error",variant:"filled",elevation:4,onClose:r,children:n||"Empty"})})},Vt=n(153),Ft=n(320);var Rt=function(e){var t=e.children,n=Object(i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(Vt.a)({palette:{type:e?"dark":"light",primary:{main:"#007ac2"},secondary:{main:"#64dd17"}},overrides:{MuiCssBaseline:{"@global":{html:{WebkitFontSmoothing:"auto"},body:{height:"100vh"},"#root":{height:"100%"}}}}})}()}),[]);return Object(o.jsx)(Ft.a,{theme:n,children:t})},_t=n(24),Bt=n(152),Gt=n(321);n(263),n(264);var zt=function(){return Object(o.jsx)(u.a,{store:w,children:Object(o.jsx)(S.a,{children:Object(o.jsx)(Rt,{children:Object(o.jsxs)(_t.a,{utils:Bt.a,children:[Object(o.jsx)(Gt.a,{}),Object(o.jsx)(Lt,{}),Object(o.jsx)(kt,{}),Object(o.jsx)(Pt,{})]})})})})};l.a.render(Object(o.jsx)(zt,{}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.b99492f6.chunk.js.map